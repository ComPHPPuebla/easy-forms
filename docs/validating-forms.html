<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Easy form handling for PHP</title>

        <link rel="stylesheet" href="http://ComPHPPuebla.github.io/easy-forms/css/bootstrap.min.css">
        <link rel="stylesheet" href="http://ComPHPPuebla.github.io/easy-forms/css/font-awesome.min.css">
        <link rel="stylesheet" href="http://ComPHPPuebla.github.io/easy-forms/css/highlight.tomorrow-night.css">
        <link rel="stylesheet" href="http://ComPHPPuebla.github.io/easy-forms/css/main.css">
    </head>
    <body>

        <header class="navbar navbar-default navbar-fixed-top">

            <a class="navbar-brand" href="http://ComPHPPuebla.github.io/easy-forms/">
                Easy form handling for PHP
                <small class="hidden-xs hidden-sm">
                    Decoupled form processing
                </small>
            </a>

            
        </header>

        <main class="container-fluid">
            <div class="row">

                
                    <nav id="sidebar" class="col-sm-3 col-lg-2" role="navigation">

                                                    <p class="text-muted">
                                Easy Form
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="http://ComPHPPuebla.github.io/easy-forms/docs/installation.html">
                                            Installation
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://ComPHPPuebla.github.io/easy-forms/docs/creating-elements.html">
                                            Creating form elements
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://ComPHPPuebla.github.io/easy-forms/docs/creating-forms.html">
                                            Creating forms
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://ComPHPPuebla.github.io/easy-forms/docs/validating-forms.html">
                                            Validating forms
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://ComPHPPuebla.github.io/easy-forms/docs/rendering-forms.html">
                                            Rendering forms
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://ComPHPPuebla.github.io/easy-forms/docs/csrf-tokens.html">
                                            CSRF tokens
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://ComPHPPuebla.github.io/easy-forms/docs/captcha-elements.html">
                                            CAPTCHA elements
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://ComPHPPuebla.github.io/easy-forms/docs/dynamic-modification.html">
                                            Dynamic modification
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="http://ComPHPPuebla.github.io/easy-forms/docs/code-generation.html">
                                            Generating code
                                        </a>
                                    </li>
                                                            </ul>
                        
                    </nav>

                
                <section class="col-sm-offset-3 col-lg-offset-2 col-sm-9 col-lg-10">
                    <h1>Validating forms</h1>
<p>Another concern related to forms is validation, you could keep on validating and
sanitizing your form inputs without having to couple validation components to your
form.</p>
<p>If you are already using the Zend input filter package, you could validate your
inputs and pass the error messages to your form so they can be rendered. Suppose
you have this filter to validate your form.</p>
<pre><code class="language-php">use Zend\Filter\StringTrim;
use Zend\InputFilter\Input;
use Zend\InputFilter\InputFilter;
use Zend\Validator\NotEmpty;
use Zend\Validator\StringLength;
use Zend\Validator\Regex;

class LoginFilter extends InputFilter
{
    public function __construct()
    {
        $this
            -&gt;add($this-&gt;buildUsernameInput())
            -&gt;add($this-&gt;buildPasswordInput())
        ;
    }

    protected function buildUsernameInput()
    {
        $username = new Input('username');
        $username
            -&gt;getValidatorChain()
            -&gt;attach(new NotEmpty())
            -&gt;attach(new StringLength([
                'min' =&gt; 3,
            ]))
        ;
        $username
            -&gt;getFilterChain()
            -&gt;attach(new StringTrim())
        ;
        return $username;
    }

    protected function buildPasswordInput()
    {
        $password = new Input('password');
        $password
            -&gt;getValidatorChain()
            -&gt;attach(new NotEmpty())
            -&gt;attach(new StringLength([
                'min' =&gt; 8,
            ]))
        ;
        return $password;
    }
}</code></pre>
<p>Then, you could validate your form this way:</p>
<pre><code class="language-php">$form = new LoginForm();
$filter = new LoginFilter();

$filter-&gt;setData($_POST);
if (!$filter-&gt;isValid() {
    $form-&gt;setErrorMessages($filter-&gt;getMessages());
}
$form-&gt;submit($filter-&gt;getValues());</code></pre>
<p>And the form would not be aware of the library that performs the validation. This
package provides an optional integration in order to encapsulate the behaviour to
validate form inputs with a Zend input filter.</p>
<pre><code class="language-php">use EasyForms\Bridges\Zend\InputFilter\InputFilterValidator;

$form = new LoginForm();
$validator = new InputFilterValidator(new LoginFilter());

$form-&gt;submit($_POST);

// Form would have the errors messages, if needed, and its values would be filtered
$validator-&gt;validate($form);</code></pre>
<p>In order to use a different component for validation you would need to write an
adapter that implements the <code>EasyForms\Validation\FormValidator</code> interface.</p>
                </section>

            </div>
        </main>

        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script src="http://yandex.st/highlightjs/7.5/highlight.min.js"></script>

        <script>
            $(function() {
                $("section>h1").wrap('<div class="page-header" />');
                // Syntax highlighting
                hljs.initHighlightingOnLoad();
            });
        </script>

    </body>
</html>
